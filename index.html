<html><head><meta charset="utf-8" /><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="description" content="" />
<meta name="author" content="Maxim Sokhatsky" /><title>CHAT</title>
    <link rel="stylesheet" href="https://n2o.dev/blank.css" />
</head><body><nav>
    <a href="https://erp.uno/">ERP</a>
    <a href="https://chat.erp.uno" style="background:#ededed;">CHAT</a>
  <div class="dropdown">
    <a onclick="drop()" class="dropbtn">UA</a>
    <div id="dropdown" class="dropdown-content">
      <a href="#">UA</a>
      <a href="en/index.html">EN</a>
    </div>
  </div>
</nav><header>
    <a href="https://github.com/synrc/chat"><img src="https://openmoji.org/data/color/svg/E248.svg"/></a>
    <h1>ЧАТ</h1>
</header><aside>
    <article>
        <section>
            <h3>МЕСЕНЖЕР</h3>

            <div>ЧАТ X.509 належить до класу захищених за допомогою ECC PKI сертифікатів,
                 федеративних месенжерів на MQTT брокері та побудований на Erlang/OTP для
                 державних та комерційних підприємств з глобальною доступністю.<br><br>

                 CHAT X.509 використовує наступні стандарти та протоколи:
                 IETF — 3394 3565 5280 5480 5652 5755 8551 DNS LDAP OCSP,<br>
                 ITU — ASN.1 X.509 CMS PKCS-10 PCKS-7 PKCS-3 X9-42 X9-62,<br>
                 ДСТУ — 4541 28147 GF(2^509), #687 27.10.2020 ДСЗЗІ,<br>
                 NIST — 800-56A 800-57 800-162 P-384 P-571.<br>
                 ISO — 20922 8824 8825,<br>
                 FIPS — PUB 180-4,<br>
                 Шифри — AES GCM CCM CBC КАЛИНА,<br>
                 Геші — SHA-2 POLY-1305 AES-CMAK КУПИНА,<br>
                 Хендшейки — ED-25519 SECP-384r1 SECP-571 ГАЛУА-509,<br>
                 Ключі — X.509 PKCS-12 PFX PEM DER ASN.1,<br>
                 Повідомлення — S/MIME-TEXT CMS-DER CHAT-ETF.<br>
                 </div><br/>

            <div>Як імплементація ЧАТ реалізований як простий сервер доставки миттєвих повідомлень
                 розроблений для ненадійних мереж та у відповідності до стандартів ISO/IETF. Він
                 використовує шину та брокер MQTT, LDAP сервер для корпоративних ієрархічних конфігурацій,
                 та бінарну серіалізацію ETF (Erlang Term Format). ЧАТ складається з наступних додатків:</div>
            <br>

            <div>
                 <ul><li>MQTT у якості Pub/Sub ABAC брокера;</li>
                     <li>LDAP для директорії користувачів;</li>
                     <li>DNS для безпеки іменного простору;</li>
                     <li>CA для видачі клієнтських сертифікатів.</li></ul>
            <div>
            <br>
            <figure><code> $ chat-x509 chat.erp.uno</code></figure>

        </section>
        <section>
            <h3><a href="#booklet">БРОШУРА</a></h3>
            <div><ul><li><a href="#principles">ПРИНЦИПИ</a></li>
                     <li><a href="#business">БІЗНЕС</a></li>
                     <li><a href="#social">СУСПІЛЬСТВО</a></li>
                     <li><a href="#protocol">ПРОТОКОЛ</a></li>
                     <li><a href="#client">iOS</a>
                     <li><a href="#gui">X Windows</a></li>
                     <li><a href="#terminal">POSIX</a></li>
                     <li><a href="#structure">КОМПАНІЯ</a></li>
                </ul></div>
            <br />
            <div>
                VER 0.6.12 JUN 2023 © 5HT <a href="https://5ht.co/license/">DHARMA</a>
            </div>
        </section>
    </article>
</aside>
<main>
    <section>
    <a name=booklet><h3>БРОШУРА</h3></a>
      <p>Рекламний презентаційний проспект продукту з поверхнею води:</p>
    <figure><img src="priv/design/slides/ChatDP.png"></figure>
      <p>Слайд презентації виконаний в техніці муар:</p>
    <figure><img src="https://mail.n2o.dev/synrc-chat-3.png"></figure>
      <p>Титульний слайд брошури:</p>
    <figure><img src="priv/design/slides/00 SLIDE.png"></figure>
      <p>Використані шрифти: IBM Selectra Manifold, Michroma, Eurostyle, Kyiv Machine.</p>
      <br><center>&dot;</center>

    <a name=principles><h3>ПРИНЦИПИ</h3></a>
    <figure><img src="priv/design/slides/01 SLIDE.png"></figure>
    <p>Компанія користується наступними принципами:</p>
    <p><b class=se>Акредитовані Центр Сертифікації Ключів</b>. ЧАТ має власний X.509 центр видачі сертифікатів з використанням еліптичної криптографії ECC [<a href="https://ca.erp.uno">CA</a>] SECP384R1 SHA384.
         Кожен раз при реєстрації нового користувача генерується PKCS-10 X.409 запит на створення сертифікату. Це також може бути зроблено за допомогою
         консольної утіліти.</p>

       <p><b class=se>Ієрархічні домени</b>. ЧАТ має власний DNS сервер [<a href="https://ns.erp.uno">NS</a>] з підтримкою DNSSEC.
         Структура використаних сервісів та їх імена записані зберігаються в DNS сервері;</p>

       <p><b class=se>Директорія підприємства як розподілена база</b>. В складних розподілених ієрархія підпорядкування
         з двома видами адміністраторів (безпеки і операційний) підтримка крос-DMZ реплікації регулюється глобальними правилами
         системи для авторизації пошукових LDAP запитів. Топ-левел LDAP сервери вибирають адміністраторів безпеки LDAP серверів друго рівня, і т.д.;</p>

       <p><b class=se>Всі повідомлення шифруются завжди</b>. Кожне повідомлення шифрується за допомогою моделей полів Галуа GF(2^m) GCM або з
         використанням еліптичних кривих та їх модулярних форм CCM, які зберігаються в X.509 конфертах як JKS. Нешифровані месаджі заборонені в системі.</p>

       <p><b class=se>Повідомлення не зберігаються</b> на сервері. Транзієнта оперативна черга доставки повідомлень MQTT,
         сертифіковані сервери: [<a href="https://mq.erp.uno">MQ</a>]: Mosquitto через TLSv1.3 та EMQX через QUIC (HTTP/3).
         Кожне повідомлення після останнього кроку отримання квитанції про доставку кореспондентом знищується на сервері
         і залишається відтепер тільки на клієнті. Так працювали перші версії Viber;</p>

       <p><b class=se>Не збираєм метадані</b>. Месенжер не зберігає ніяких метаданих, як то локація, IP адреса,
          інформація про апаратуру клієнта, тощо. ЧАТ використовує тільки наступні внутрішнін ідетифікатори: client,
          device, profile, roster виключно для роутінга повідомлень. Користувач також має змогу обрати зберігати
           контактну книгу (ростер) не на сервері, а на клієнті;</p>

       <p><b class=se>Ростер на клієнті</b>. Вся контактна інформація про ваші підписки, чати, канали, та компанії
         може зберігатися ексклюзивно на клієнті. Після логіна на іншому присторії користовач має змогу отримати (по MQTT)
         контактну книгу (ростер) з іншого клієнта, який працює на іншому пристрої;</p>

       <p><b class=se>Ростер на сервері</b>. Вся контактна інформація про ваші підписки, чати, канали та компанії
         зберігається в корпоративній LDAP дерикторії яка має багато каналів реплікації;</p>

       <p><b class=se>Багато контактних книг</b>. Для ведення подвійного та багааватарного життя на платній основі
          та для корпоративних акаунтів клієнт підтримує мульті-ростерність та верифікує акаунти за допомогою
          <b>phone</b> та <b>mail</b> способів верифікації клієнта;</p>

       <p><b class=se>Відкритий код</b>. Імплементація Erlang SSL пережила heartblead тому була
          вибрана як основа безпеки TLS з'єднань в архітектурі ЧАТ. Всі серверні субкомпоненти системи написані
          на Erlang та доступні для верифікації та ліцензування публічно. Єдиний і повний автор усіх компонент
          системи який здійснює свою політику згідно BDFL собору є Максим Сохацький.</p>

    </section>


    <section>
    <a name=business><h3>БІЗНЕС</h3></a>
    <figure><img src="priv/design/slides/03 SLIDE.png?v=2"></figure>
    <p>Форми співробітництва:</p>
    <p>
       — Автономні впровадження на ВАШИХ потужностях;<br>
       — Хостинг сервісу по підписці на НАШИХ потужностях;<br>
       — Багато-ростерні конфігурації по підписці;<br>
       — Інтеграційне API SDK для партнерських програм;<br>
       — Конфігурація під потреби бізнесу.<br>
    </p>
   <br><center>&dot;</center>
    </section>

    <section>

    <a name=social><h3>СУСПІЛЬСТВО</h3></a>
    <figure><img src="priv/design/slides/04 SLIDE.png"></figure>
    <p>Зроблено для людей:</p>
    <p>— Інтегровані системи масового оповіщення;<br>
       — B2C сервісні канали для бізнесу і ОВВ;<br>
       — Календар iCal та Контакт vCard органайзер;<br>
       — Референсний iOS UI дизайн, додаток без залежностей;<br>
       — Відкритий консольний клієнт;<br>
       — Державний або корпоративний ДСТУ 4145 логін.<br>
   <br><center>&dot;</center>
    </section>

    <section>
    <a name=protocol><h3>ПРОТОКОЛ</h3></a>

    <p>Технічна специфікація протоколу:</p>

    <ul><li><img src="https://github.com/fluidicon.png" width="35" style="margin-bottom:-12px;margin-right:10px;" />
<a href="https://github.com/synrc/chat/tree/main/priv/proto/">SYNRC CHAT</a> — ETF/MQTT протокол.</li></ul>

    <p>Поняття протоколу:</p>

    <p><b class=se>Топіки</b>. ЧАТ протокол використовує наступні MQTT топіки, перелік яких зберігається на клієнті:
       1) actions/:client; 2) events/:client; 3) devices/:phone; 4) contacts/:roster; 5) private/:roster/:roster; 6) room/:room.</p>

    <p><b class=se>Записи</b>. По цим топікам передаються наступні Erlang записи (records):
       Index, Typing, Search, Feature, Service,
       Presence, Friend, Tag, Link, Message, Member,
       Room, Contact, Star, Ack, Auth,
       Roster, Profile, History, push, io закодовані ETF серіалізатором.</p>

     <p><b class=se>Модулі</b>. Протокол ЧАТ реалізований у наборі модулів-підпротоколів: ФАЙЛ, ІСТОРІЯ, ПОСИЛАННЯ, ПОВІДОМЛЕННЯ,
        ПРИСУТНІСТЬ, ПРОФІЛЬ, PUSH, КІМНАТА, РЕСТЕР, ПОШУК, АУТ. Щоб отримати повну специфікацію,
        перейдіть до папки priv/proto. Реалізація сервера CHAT покладається лише на підключення ISO/IETF,
        такі як DNSSEC, X.509 CSR, LDAP, QUIC, WebSocket, MQTT.</p>
 
     <p><b class=se>Додатки</b>. ЧАТ — це простий сервер обміну миттєвими повідомленнями на основі стандартів ISO.
        Він використовує протокол MQTT і бінарну серіалізацію ETF від Erlang/OTP у різних своїх додатках:
        MQTT, LDAP, DNS, CA. Безпечний за замовчуванням. Додаток ЧАТ має функцію підпису/підтвердження,
        шифрування/розшифрування, увімкнену для кожного окремого переданого повідомлення.
        Доставлені повідомлення видаляються з MQTT сервера після підтвердження отримки одержувачем.
        Це заміна Keybase, OTR, PGP (називайте як хочете) для безпечних комунікацій, визначених X.509 ASN.1.</p>

     <p><b class=se>Ключі</b>. Ключі які використовують користувачі складаються з трьох типів-пар (можна більше, але типів всього три):
        1) <b>Перша</b> пара ключів SECP384R1 забезпечує безпеку каналу TLS 1.3 засобами еліптичної криптографії власного АЦСК/CA;
        2) <b>Друга</b> пара ключів ED25519 забезпечує безпеку повідомлень;
        3) <b>Третя</b> пара ключів забезпечує доступ до державних та юридичних сервісів ДСТУ-4145.
        Кожен учасник системи перед комунікацією здійснює реанонс своїх публічних частин цих асиметричних ключів.</p>

     <p><b class=se>Протоколи обміну ключами</b>. Для створення спільного секретного слова, яким можна було би
        шифрувати трафік за допомогою симетричного шифру використовується математичний протокол обміну публічними ключами
        і його обчислення на сторонах кореспондентів комунікації. Нище наведені параметри
        протоколів обміну ключами <b>ED25519</b>, <b>SECP384r1</b>, <b>SECP571r1</b>,
       <b>ДСТУ-ГАЛУА</b> які використовуються в месенжері.</p>

     <p><figure ><code style="text-align: center;"> roccoK := privat(32)
 roccoP := public(roccoK)
 tonpaK := privat(32)
 tonpaP := public(tonpaK)
 tonpaS := shared(tonpaK,roccoP)
 roccoS := shared(roccoK,tonpaP)
 roccoS == tonpaS</code></figure></p>

       <p>Схема ED-25519 поліноміальної репрезентації Монтгомері B⋅y²=x³+A⋅x²+x () і редукційного
          многочлена x²⁵⁵-19 з порядком циклічної групи &mdash; 2^252 + 27742317777372353535851937790883648493,
          А=486662, B=1.</p>

       <p>Схема SECP-384r1 поліноміальної репрезентації y²+y⋅x=x³+A⋅x+B і редукційного многочлена x³⁸⁴+x¹²⁸+x⁹⁶+x³²-1,
          A=FF(9) 00(2) FFFFFFFC,
          B=3312FA7E 23EE7E49 88E056BE 3F82D191
            81D9C6EF E8141120 314088F5 013875AC
            656398D8 A2ED19D2 A85C8EDD 3EC2AEF.</p>

       <p>Схема SECP-571r1 поліноміальної репрезентації y²+y⋅x=x³+A⋅x+B і редукційного многочлена x⁵⁷¹+x¹⁰+x⁵+x²+1,
          A=1,
          B=02F40E7E 2221F295 DE297117 B7F3D62F
            5C6A97FF CB8CEFF1 CD6BA8CE 4A9A18AD
            84FFABBD 8EFA5933 2BE7AD67 56A66E29
            4AFD185A 78FF12AA 520E4DE7 39BACA0C
            7FFEFF7F 2955727A.</p>

       <p>Схема ДСТУ-ГАЛУА-GF(2^431) поліноміальної репрезентації y²+y⋅x=x³+A⋅x+B і редукційного многочлена x⁴³¹+x⁵+x³+1,
          A=1,
          B=53FB7AF7 B4407000 A6F226AD 6BAD2837
            8646BD83 F1F94081 0A4C1953 6EE65E53
            F40F973F 2F06C5E8 0EFE3B43 651BD5FF
            8B06BA5F 9299.</p>

    <p><b class=se>Симетричні блочні шифри</b>. Тепер можна шифрувати симетричним
          ключем (<b>AES-GCM</b>, <b>AES-CCM</b>, <b>ДСТУ-КАЛИНА</b>) по ізоморфному (roccoS==tonpaS) закритому токену:
       на стороні Тонпа &mdash; :n2o.encrypt(msg,tonpaS) і на стороні
       Рокко: :n2o.decrypt(msg,roccoS).

     <p><b class=se>Геш-функції</b>. Для перевірки підпису можуть використовуватися
       наступні геші: <b>ДСТУ-КУПИНА</b>, <b>SHA-2</b>, <b>POLY-1305</b>, <b>AES-CMAK</b>.</p>

     <p><b class=se>Відкритість платформи</b>. Єдиний додаток як в часи IRC та
        XMPP забезпечує доступ до всіх серверів сумісних з CHAT X509. Таким чином клієнт
        підримує довільну кількість ключів та довільну кількість серверів. І вся ця інформація зберігається
        тільки на клієнті.</p>

       <hr>

       <p><img src="https://n2o.dev/img/pdf.jpg" width="35" style="margin-bottom:-12px;margin-right:10px;" />
        <a href="https://dut.edu.ua/ua/lib/1/category/2132/view/1822">Ю.І. Горбенко, І.Д. Горбенко.</a> &mdash; Інфраструктури відкритих ключів. Електроний цифровий підпис. Теорія та практика.</p>

       <p><img src="https://n2o.dev/img/pdf.jpg" width="35" style="margin-bottom:-12px;margin-right:10px;" />
        <a href="http://ksv.do.am/GOST/DSTY_ALL/DSTU2/dstu_4145-2002.pdf">ДСТУ 4145-2002</a> &mdash; Інформаційні технології. Криптографічний захист інформації.
           Цифровий підпис, що ґрунтується на еліптичних кривих. Формування та перевірка.</p>

       <p><img src="https://n2o.dev/img/pdf.jpg" width="35" style="margin-bottom:-12px;margin-right:10px;" />
        <a href="https://www.secg.org/sec2-v2.pdf">SEC2</a> &mdash; Recommended EC Domain Parameters.</p>

       <p><img src="https://n2o.dev/img/pdf.jpg" width="35" style="margin-bottom:-12px;margin-right:10px;" />
        <a href="https://research.nccgroup.com/wp-content/uploads/2020/02/A_Tour_of_Curve25519_in_Erlang-1.pdf">Eric Schorn</a> &mdash; A Tour of Curve25519 in Erlang.</p>

   <br><center>&dot;</center>
    </section>
    <section>

    <a name=client><h3>iOS 13.0</h3></a>


    <figure><img src="priv/design/slides/05 SLIDE.png"></figure>


    <p>Тут ви можете завантажити білд iOS клієнта написаного на Swift:</p>

    <ul><li><img src="https://github.com/fluidicon.png" width="35" style="margin-bottom:-12px;margin-right:10px;" />
<a href="https://github.com/chat-x509/">CHAT X.509 </a> — iOS клієнт (Swift).</li></ul>

     <p><table width=100% cellspacing=10>
        <tr><td width=33%><img src="priv/design/slides/SCREEN 0.svg" width=100%/></td>
            <td width=33%><img src="priv/design/slides/SCREEN 1.svg" width=100%/></td>
            <td width=33%><img src="priv/design/slides/SCREEN 2.svg" width=100%/></td></td></tr>
        <tr><td><img src="priv/design/slides/SCREEN 3.svg" width=100%/></td>
            <td><img src="priv/design/slides/SCREEN 4.svg" width=100%/></td>
            <td><img src="priv/design/slides/SCREEN 5.svg" width=100%/></td></td></tr>
     </table></p>

   <br><center>&dot;</center>

    </section>
    <section>
       <a name=gui><h3>X Windows</h3></a>

    <figure><img src="priv/design/slides/chat-gui.png"></figure>

       <p>Простий X Windows клієнт доступний для запуску у  WSL, BSD, Linux та Mac. Написаний на C.
          ЧАТ клієнт X.ORG X.509 базується на наступних бібліотеках:
          1) X Windows Toolkit (Xt),
          2) X Windows Library (Xlib) and
          3) OpenGL for X Windows (GLX 1.3). Завантаження:</p>

       <p>
<img src="https://n2o.dev/img/pdf.jpg" width="35" style="margin-bottom:-12px;margin-right:10px;" />
        <a href="https://chat.erp.uno/priv/design/GUI.pdf">CHAT-X509-GUI</a> &mdash; X Windows клієнт (C99).
       </p>

   <br><center>&dot;</center>
    </section>
    <section>

    <a name=terminal><h3>POSIX</h3></a>

    <figure><img src="priv/design/slides/06 SLIDE.png"></figure>

    <p>Тут ви можете завантажити консолький референсний клієнт CHAT-X509:</p>

    <ul><li>
<img src="https://github.com/fluidicon.png" width="35" style="margin-bottom:-12px;margin-right:10px;" />
<a href="https://github.com/chat-x509/">CHAT-X509</a> — TERMIO клієнт (C99).</li></ul>

    <p>CHAT включає систему доставки текстових повідомлень на основі вбудованого брокера
       повідомлень Erlang/OTP SYN разом із MQTT. Реалізація протоколу SYNRC CHAT CLI
       намагається бути інформативною, але не надмірною, вона повинна подбати про граничні
       випадки під час виконання, але не надто стабільна. Текстовий протокол CLI призначений для
       демонстраційних цілей і справді коротких повідомлень, коли у вас немає доступу до
       мобільних клієнтів, він підтримує завантаження файлів, але не підтримує олосові виклики.
       Це SMPT, але зроблений правильно: HELP, BOX, CUT, AUTH, SEND, LIST. </p>


    <figure><code>
 $ chat-x509 -c wss://chat.erp.uno
 > HELP
 &lt; AUTH &lt;user&gt;
 | SEND &lt;user&gt; &lt;msg&gt;
 | BOX
 | CUT &lt;id&gt;.
 > AUTH buddha
 &lt; USER buddha
 > SEND rocco HELO
 &lt; ERROR user doesn't exist.
 > AUTH rocco
 &lt; USER rocco
 > SEND buddha OK
 &lt; NOTIFY rocco:buddha:1556151953113322286:OK
 &lt; ACK "1556151953113322286"
 > AUTH buddha
 &lt; USER buddha
 > BOX
 &lt; LIST
 rocco:buddha:1556151953113322286:OK
 > SEND buddha this is me
 &lt; NOTIFY buddha:buddha:1556152151055371152:this is me
 &lt; ACK "1556152151055371152"
 > SEND buddha back again
 &lt; NOTIFY buddha:buddha:1556152157283311935:back again
 &lt; ACK "1556152157283311935"
 > BOX
 &lt; LIST
 rocco:buddha:1556151953113322286:OK
 buddha:buddha:1556152151055371152:this is me
 buddha:buddha:1556152157283311935:back again
 > CUT 1556152157283311935
 &lt; ERASED 3
 > BOX
 &lt; LIST
 >
    </code></figure>


   <br><center>&dot;</center>
   <br>

    </section>

    <section>
    <a name=structure><h3>КОМПАНІЯ</h3></a>
    <figure><img src="priv/design/slides/02 SLIDE.png"></figure>

    <ul><li>
<img src="https://github.com/fluidicon.png" width="35" style="margin-bottom:-12px;margin-right:10px;" />
<a href="https://chat.erp.uno/">CHAT ERP/1</a> — Головний сайт продукту.</li></ul>

    <p>Структура виробничого процесу компанії:</p>

    <p><b class=se>Маркетинговий відділ</b>: Threema, Signal, WhatsApp, Session, Element, Wire, Wickr.
       Займається дослідженням найкращих практик та адаптацією їх до дизайну месанжера;</p>

    <p><b class=se>Відділ проектної документації</b>. займається розвитком та
      підтримкою протоколу, дидактичних матеріалів та технічної докментації.
      Описує протокол SYNRC CHAT в BERT/MQTT контексті для мов Swift і Erlang;</p>

    <p><b class=se>Клієнтський відділ розробки.</b> Відділ розробки iOS клієнта на мові програмування Swift 5.8
        Chat X.509, разом з дизайном та ігровою ергономікою в Figma та Swift;</p>

    <p><b class=se>Серверний відділ розробки</b>. Займається як розвитком сервера на Erlang/OTP
       так і розробкою інших серверів в інфраструктурі системи: CA NS LDAP AUTH MQTT [mac] CHAT CLI;</p>


    <p><b class=se>Відділ по роботі з корпоративними клієнтами</b>. Відділ займається підтримкою
       та комунікацією з органами державної влади, партнерами, провайдерами та зовнішніми
       контрагентами. [SYNRC.PEM] [SYNRC.LDIF] [SYNRC.DNS];</p>
    </p>

    <p><b class=se>Відділ впровадження, супроводу і підтримки</b>. Відділ займається
       інсталяціями під ключ та супроводом існуючої публічної клієнтської бази користувачів
       месенжера для операційних систем NetBSD і Linux. Головний продукт компанії &mdash; X.509 чат месенжер.</p>


   <br><center>&dot;</center>
   <br>
    </section>

</main><footer>
    Namdak Tonpa <span class="heart">❤</span> ERP/1
</footer></body>
<script>function drop(){document.getElementById("dropdown").classList.toggle("show");}</script>
</html>
